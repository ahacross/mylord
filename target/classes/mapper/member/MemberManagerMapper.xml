<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="me.ahacross.mylord.manager.MemberManagerMapper">
	<insert id="insert" parameterType="me.ahacross.mylord.manager.MemberManager" >
		insert into member_manager (member_id, role, term_range_s)
			values (#{member_id}, #{role}, #{term_range_s})
		 ON DUPLICATE KEY UPDATE 
		 <trim suffixOverrides="," >
		 	<if test='role != null'>
	    		role = #{role},
	    	</if>
	    	<if test='auth != null'>
	    		auth = #{auth},
	    	</if>
			<if test='term_range_s != null'>
	    		term_range_s = #{term_range_s},
	    	</if>	    	
	    	<if test='term_range_e != null'>
	    		term_range_e = #{term_range_e},
	    	</if>
		</trim>
	</insert>
</mapper>